<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<style>
    h1{
        text-align: center;
        margin: 10px 0;
    }
    .Iform{
        margin: 0;
        margin: 20px;
    }
    #input_table{
        border: 2px solid black;
        margin: auto;
        padding: 100px;
        width: 600px;
    }
    
    table tr td{
        margin: 50px;
        padding: 20pxx;
    }

    input{
        height: 40px;
    }
    label{
        float: right;
    }


</style>

    <title>Web Input</title>
</head>
<body>
    <h1>Web Input Form</h1>

    <form action="#" method="get" class="Iform">
        <table id="input_table" cellpadding="10px">
            <tr>
                <td>
                    <input type="number" value="0" class="Input_val">
                </td>
                <td>
                    <button type='submit' class="btn btn-primary" onclick="addInput()">+</button>
                </td>
            </tr>

            <tr>
                <td><label for="result">Sum</label> </td>
                <td> <input type="number" value="0" id="result" onchange="add_InputValue()"> </td>
            </tr>

        </table>
    </form>


    <script>
        // To add A input and minus button on click of + button
        function addInput(){
            // console.log('click')
            var tab = document.getElementById('input_table');
            var tab_row = tab.insertRow(1);
            var row_ceil_1 = tab_row.insertCell(0);
            var row_ceil_2 = tab_row.insertCell(1);
            row_ceil_1.innerHTML = `<input type="number" value="0" class="Input_val" onchange="add_InputValue()">`
            row_ceil_2.innerHTML = `<button type='submit' class="btn btn-danger" onclick="RemoveInput(this)">-</button>`
            // add_InputValue()
        }


        // to delete the specified row
        function RemoveInput(e){
            var del_tab_row = e.parentNode.parentNode.rowIndex;
            // console.log(del_tab_row)

            document.getElementById('input_table').deleteRow(del_tab_row)
            // add_InputValue()
        }

        // to add all the present input feild

        function add_InputValue(){
            sum_res = 0
            $('.Input_val').each(function(){
                var got_val = $(this).val()
                // console.log(got_val)
                if (got_val == ''){
                    // console.log('got nan')
                    got_val = 0
                    sum_res += (got_val)
                }
                else{
                    sum_res += parseInt(got_val)
                }
            })
            // console.log(sum_res)
            document.getElementById('result').value=sum_res
        }

        setInterval(add_InputValue,1000)

    </script>
    <!-- <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Consectetur alias, soluta nam officia sequi harum voluptates cupiditate obcaecati nostrum placeat.</p> -->
    
</body>
</html>